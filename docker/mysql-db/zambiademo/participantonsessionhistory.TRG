TYPE=TRIGGERS
triggers='CREATE DEFINER=`zambiademo`@`%` TRIGGER `POSH_insert_trig` BEFORE INSERT ON `ParticipantOnSessionHistory` FOR EACH ROW BEGIN\n        IF NEW.inactivatedts IS NOT NULL OR NEW.inactivatedbybadgeid IS NOT NULL THEN\n            SIGNAL sqlstate \'45000\' SET MESSAGE_TEXT = \'Insert table ParticipantOnSessionHistory with non null inactivated... field.\';\n        END IF;\n        INSERT INTO ParticipantOnSession (badgeid, sessionid, moderator)\n            VALUES (NEW.badgeid, NEW.sessionid, NEW.moderator);\n    END' 'CREATE DEFINER=`zambiademo`@`%` TRIGGER `POSH_update_trig` BEFORE UPDATE ON `ParticipantOnSessionHistory` FOR EACH ROW BEGIN\n        IF NEW.inactivatedts IS NULL OR NEW.inactivatedbybadgeid IS NULL THEN\n            SIGNAL sqlstate \'45000\' SET message_text = \'Update table ParticipantOnSessionHistory with null inactivated... field.\';\n        END IF;\n        IF OLD.inactivatedts IS NOT NULL OR OLD.inactivatedbybadgeid IS NOT NULL THEN\n            SIGNAL sqlstate \'45000\' SET message_text = \'Update table ParticipantOnSessionHistory when record previously inactivated.\';\n        END IF;\n        IF NOT(NEW.participantonsessionhistoryid <=> OLD.participantonsessionhistoryid) OR\n            NOT(NEW.badgeid <=> OLD.badgeid) OR\n            NOT(NEW.sessionid <=> OLD.sessionid) OR\n            NOT(NEW.moderator <=> OLD.moderator) OR\n            NOT(NEW.createdts <=> OLD.createdts) OR\n            NOT(NEW.createdbybadgeid <=> OLD.createdbybadgeid) THEN\n            SIGNAL sqlstate \'45000\' SET message_text = \'Update field other than inactivated... in table ParticipantOnSessionHistory.\';\n        END IF;	\n        DELETE FROM ParticipantOnSession\n            WHERE\n                    badgeid = OLD.badgeid\n                AND sessionid = OLD.sessionid\n                AND moderator = OLD.moderator;\n	END' 'CREATE DEFINER=`zambiademo`@`%` TRIGGER `POSH_delete_trig` BEFORE DELETE ON `ParticipantOnSessionHistory` FOR EACH ROW SIGNAL sqlstate \'45000\' SET MESSAGE_TEXT = \'May only insert and update table ParticipantOnSessionHistory.\''
sql_modes=524288 524288 524288
definers='zambiademo@%' 'zambiademo@%' 'zambiademo@%'
client_cs_names='utf8' 'utf8' 'utf8'
connection_cl_names='utf8_general_ci' 'utf8_general_ci' 'utf8_general_ci'
db_cl_names='latin1_swedish_ci' 'latin1_swedish_ci' 'latin1_swedish_ci'
